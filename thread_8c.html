<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>memcached: thread.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>thread.c File Reference</h1><code>#include &quot;<a class="el" href="memcached_8h-source.html">memcached.h</a>&quot;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;pthread.h&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for thread.c:</div>
<div class="dynsection">
<p><center><img src="thread_8c__incl.png" border="0" usemap="#thread.c_map" alt=""></center>
<map name="thread.c_map">
<area shape="rect" id="node3" href="memcached_8h.html" title="The main memcached header holding commonly used data structures and function prototypes..." alt="" coords="951,86,1060,117"><area shape="rect" id="node23" href="protocol__binary_8h.html" title="protocol_binary.h" alt="" coords="835,166,968,197"><area shape="rect" id="node26" href="cache_8h.html" title="cache.h" alt="" coords="1043,166,1112,197"><area shape="rect" id="node29" href="stats_8h.html" title="stats.h" alt="" coords="1136,166,1200,197"><area shape="rect" id="node31" href="slabs_8h.html" title="slabs.h" alt="" coords="1224,166,1291,197"><area shape="rect" id="node33" href="assoc_8h.html" title="assoc.h" alt="" coords="1315,166,1384,197"><area shape="rect" id="node35" href="items_8h.html" title="items.h" alt="" coords="1408,166,1477,197"><area shape="rect" id="node37" href="trace_8h.html" title="trace.h" alt="" coords="1501,166,1565,197"><area shape="rect" id="node39" href="hash_8h.html" title="hash.h" alt="" coords="1589,166,1653,197"><area shape="rect" id="node41" href="util_8h.html" title="util.h" alt="" coords="1677,166,1731,197"></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconn__queue__item.html">conn_queue_item</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconn__queue.html">conn_queue</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#5724578d4f53d817ea3e9750aacf262b">ITEMS_PER_ALLOC</a>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structconn__queue__item.html">conn_queue_item</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#41f388ca605b116da777ec9bb1e7516a">CQ_ITEM</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structconn__queue.html">conn_queue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#4e7f6c53cad5e1e4c455d2d85af8756c">CQ</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#4626562440107c11cdd7cc07ba28f806">accept_new_conns</a> (const bool do_accept)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#2997c1c6cb9e3ed321c69f82d95b7302">dispatch_conn_new</a> (int sfd, enum <a class="el" href="memcached_8h.html#397f77d103168a504b5fbc801538f2a7">conn_states</a> init_state, int event_flags, int read_buffer_size, enum <a class="el" href="memcached_8h.html#b2a402bae66e9d81d0928284b707a47c">network_transport</a> transport)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#7a14a0df6eff0fd0852f4844eab2524a">is_listen_thread</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#d69cc14d059b72c07e1f0b550b1922c6">item_alloc</a> (char *key, size_t nkey, int flags, <a class="el" href="memcached_8h.html#602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a> exptime, int nbytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#1ff584f7053e4a5c8f2cffc7186a12aa">item_get</a> (const char *key, const size_t nkey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#7fc0055d9dba8a3a14d2189e95acf844">item_link</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#5674d2ce2742470b8012fa4184f1fc3b">item_remove</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#32cd7e1744d2214e26f0ac267403314e">item_replace</a> (<a class="el" href="struct__stritem.html">item</a> *old_it, <a class="el" href="struct__stritem.html">item</a> *new_it)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#256717f932dae6220d67fa02af2266bc">item_unlink</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#c1d7ea5f69d88dd9b67b6f96520cad8d">item_update</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="memcached_8h.html#c1341dff6a89ead35b6c23f93cd3afb6">delta_result_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#439d6a005b0cc1a47f8ca3ceb3b85a35">add_delta</a> (<a class="el" href="structconn.html">conn</a> *c, <a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>, int incr, const int64_t delta, char *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="memcached_8h.html#1cf8921762294d73fe28150b7fa2a18e">store_item_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232">store_item</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>, int comm, <a class="el" href="structconn.html">conn</a> *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#84097b43e7999f753c11603eff36dadc">item_flush_expired</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#8c9611028843ca37b4d20ec99fd8af23">item_cachedump</a> (unsigned int slabs_clsid, unsigned int limit, unsigned int *bytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#2b022c04b5ceac327d82762206f51ca8">item_stats</a> (<a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, void *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#76a67af22fe6ce802c07e857f06cbdc8">item_stats_sizes</a> (<a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, void *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#4633df360c62cd97d74fe185c291e508">STATS_LOCK</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#dc3a0e10eb26574752159d6a16d90007">STATS_UNLOCK</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#7bcb5bc469e4b71ebb523e8e1b7caf95">threadlocal_stats_reset</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2a47a4050d3821422922a7f45611ae9">threadlocal_stats_aggregate</a> (struct <a class="el" href="structthread__stats.html">thread_stats</a> *<a class="el" href="structstats.html">stats</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#9a8ed232ef10f74bc05293d3435f0b8f">slab_stats_aggregate</a> (struct <a class="el" href="structthread__stats.html">thread_stats</a> *<a class="el" href="structstats.html">stats</a>, struct <a class="el" href="structslab__stats.html">slab_stats</a> *out)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#79051074704249cac4424f10d4606fe3">thread_init</a> (int nthreads, struct event_base *main_base)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#9127df2a4e57929543f3b955e8fa6014">cache_lock</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#516da4c745197f600a201285359edeeb">conn_lock</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="5724578d4f53d817ea3e9750aacf262b"></a><!-- doxytag: member="thread.c::ITEMS_PER_ALLOC" ref="5724578d4f53d817ea3e9750aacf262b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ITEMS_PER_ALLOC&nbsp;&nbsp;&nbsp;64          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="4e7f6c53cad5e1e4c455d2d85af8756c"></a><!-- doxytag: member="thread.c::CQ" ref="4e7f6c53cad5e1e4c455d2d85af8756c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structconn__queue.html">conn_queue</a> <a class="el" href="structconn__queue.html">CQ</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="41f388ca605b116da777ec9bb1e7516a"></a><!-- doxytag: member="thread.c::CQ_ITEM" ref="41f388ca605b116da777ec9bb1e7516a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structconn__queue__item.html">conn_queue_item</a> <a class="el" href="structconn__queue__item.html">CQ_ITEM</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="4626562440107c11cdd7cc07ba28f806"></a><!-- doxytag: member="thread.c::accept_new_conns" ref="4626562440107c11cdd7cc07ba28f806" args="(const bool do_accept)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void accept_new_conns           </td>
          <td>(</td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>do_accept</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_4626562440107c11cdd7cc07ba28f806_cgraph.png" border="0" usemap="#thread_8c_4626562440107c11cdd7cc07ba28f806_cgraph_map" alt=""></center>
<map name="thread_8c_4626562440107c11cdd7cc07ba28f806_cgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#b3208d47b8d38af6818f6ced54e4d62c" title="do_accept_new_conns" alt="" coords="196,31,359,62"><area shape="rect" id="node5" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="417,5,521,35"><area shape="rect" id="node7" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="408,58,531,89"></map>
</div>

</div>
</div><p>
<a class="anchor" name="439d6a005b0cc1a47f8ca3ceb3b85a35"></a><!-- doxytag: member="thread.c::add_delta" ref="439d6a005b0cc1a47f8ca3ceb3b85a35" args="(conn *c, item *item, int incr, const int64_t delta, char *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memcached_8h.html#c1341dff6a89ead35b6c23f93cd3afb6">delta_result_type</a> add_delta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>incr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t&nbsp;</td>
          <td class="paramname"> <em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_439d6a005b0cc1a47f8ca3ceb3b85a35_cgraph.png" border="0" usemap="#thread_8c_439d6a005b0cc1a47f8ca3ceb3b85a35_cgraph_map" alt=""></center>
<map name="thread_8c_439d6a005b0cc1a47f8ca3ceb3b85a35_cgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#0934445940ac36bd65acb1860d9d2b89" title="do_add_delta" alt="" coords="140,257,247,288"><area shape="rect" id="node5" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="457,153,567,184"><area shape="rect" id="node25" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="448,23,576,53"><area shape="rect" id="node28" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="809,336,897,367"><area shape="rect" id="node30" href="memcached_8h.html#2920cc5a90ae6ca85b3dd4b786ac355e" title="item_replace" alt="" coords="296,257,400,288"><area shape="rect" id="node47" href="util_8c.html#cc5ba3b68c57abb666e3534e6616d93d" title="safe_strtoull" alt="" coords="297,387,399,417"><area shape="rect" id="node7" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="624,179,744,209"><area shape="rect" id="node15" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="801,229,905,260"><area shape="rect" id="node17" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="792,176,915,207"><area shape="rect" id="node19" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="639,21,729,52"><area shape="rect" id="node21" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="639,75,729,105"><area shape="rect" id="node9" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="801,123,905,153"><area shape="rect" id="node11" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="813,20,893,51"><area shape="rect" id="node13" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="965,20,1051,51"><area shape="rect" id="node32" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="449,257,575,288"><area shape="rect" id="node34" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="632,283,736,313"><area shape="rect" id="node36" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="803,283,904,313"><area shape="rect" id="node38" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="964,256,1052,287"><area shape="rect" id="node40" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="1103,283,1153,313"></map>
</div>

</div>
</div><p>
<a class="anchor" name="2997c1c6cb9e3ed321c69f82d95b7302"></a><!-- doxytag: member="thread.c::dispatch_conn_new" ref="2997c1c6cb9e3ed321c69f82d95b7302" args="(int sfd, enum conn_states init_state, int event_flags, int read_buffer_size, enum network_transport transport)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dispatch_conn_new           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="memcached_8h.html#397f77d103168a504b5fbc801538f2a7">conn_states</a>&nbsp;</td>
          <td class="paramname"> <em>init_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>event_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>read_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="memcached_8h.html#b2a402bae66e9d81d0928284b707a47c">network_transport</a>&nbsp;</td>
          <td class="paramname"> <em>transport</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7a14a0df6eff0fd0852f4844eab2524a"></a><!-- doxytag: member="thread.c::is_listen_thread" ref="7a14a0df6eff0fd0852f4844eab2524a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_listen_thread           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d69cc14d059b72c07e1f0b550b1922c6"></a><!-- doxytag: member="thread.c::item_alloc" ref="d69cc14d059b72c07e1f0b550b1922c6" args="(char *key, size_t nkey, int flags, rel_time_t exptime, int nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__stritem.html">item</a>* item_alloc           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a>&nbsp;</td>
          <td class="paramname"> <em>exptime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_d69cc14d059b72c07e1f0b550b1922c6_cgraph.png" border="0" usemap="#thread_8c_d69cc14d059b72c07e1f0b550b1922c6_cgraph_map" alt=""></center>
<map name="thread_8c_d69cc14d059b72c07e1f0b550b1922c6_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="143,163,252,194"><area shape="rect" id="node5" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="301,61,421,91"><area shape="rect" id="node13" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="479,111,583,142"><area shape="rect" id="node15" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="469,165,592,195"><area shape="rect" id="node17" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="316,215,407,246"><area shape="rect" id="node19" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="316,269,407,299"><area shape="rect" id="node7" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="479,5,583,35"><area shape="rect" id="node9" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="491,58,571,89"><area shape="rect" id="node11" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="641,58,727,89"></map>
</div>

</div>
</div><p>
<a class="anchor" name="8c9611028843ca37b4d20ec99fd8af23"></a><!-- doxytag: member="thread.c::item_cachedump" ref="8c9611028843ca37b4d20ec99fd8af23" args="(unsigned int slabs_clsid, unsigned int limit, unsigned int *bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* item_cachedump           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>slabs_clsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_8c9611028843ca37b4d20ec99fd8af23_cgraph.png" border="0" usemap="#thread_8c_8c9611028843ca37b4d20ec99fd8af23_cgraph_map" alt=""></center>
<map name="thread_8c_8c9611028843ca37b4d20ec99fd8af23_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#f8926aa0955ee34cec0fbe7214e74156" title="do_item_cachedump" alt="" coords="184,5,339,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="84097b43e7999f753c11603eff36dadc"></a><!-- doxytag: member="thread.c::item_flush_expired" ref="84097b43e7999f753c11603eff36dadc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_flush_expired           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_84097b43e7999f753c11603eff36dadc_cgraph.png" border="0" usemap="#thread_8c_84097b43e7999f753c11603eff36dadc_cgraph_map" alt=""></center>
<map name="thread_8c_84097b43e7999f753c11603eff36dadc_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#515ef8e7f0cef67772989fd076f7dcb4" title="do_item_flush_expired" alt="" coords="197,85,365,115"><area shape="rect" id="node5" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="413,85,533,115"><area shape="rect" id="node7" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="591,5,695,35"><area shape="rect" id="node9" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="603,58,683,89"><area shape="rect" id="node13" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="591,111,695,142"><area shape="rect" id="node15" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="581,165,704,195"><area shape="rect" id="node11" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="753,58,839,89"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1ff584f7053e4a5c8f2cffc7186a12aa"></a><!-- doxytag: member="thread.c::item_get" ref="1ff584f7053e4a5c8f2cffc7186a12aa" args="(const char *key, const size_t nkey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__stritem.html">item</a>* item_get           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>nkey</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_1ff584f7053e4a5c8f2cffc7186a12aa_cgraph.png" border="0" usemap="#thread_8c_1ff584f7053e4a5c8f2cffc7186a12aa_cgraph_map" alt=""></center>
<map name="thread_8c_1ff584f7053e4a5c8f2cffc7186a12aa_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="131,71,232,102"><area shape="rect" id="node5" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="296,31,384,62"><area shape="rect" id="node9" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="280,111,400,142"><area shape="rect" id="node7" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="484,5,535,35"><area shape="rect" id="node11" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="457,58,561,89"><area shape="rect" id="node13" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="469,111,549,142"><area shape="rect" id="node17" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="457,165,561,195"><area shape="rect" id="node19" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="448,218,571,249"><area shape="rect" id="node15" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="620,111,705,142"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7fc0055d9dba8a3a14d2189e95acf844"></a><!-- doxytag: member="thread.c::item_link" ref="7fc0055d9dba8a3a14d2189e95acf844" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item_link           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_7fc0055d9dba8a3a14d2189e95acf844_cgraph.png" border="0" usemap="#thread_8c_7fc0055d9dba8a3a14d2189e95acf844_cgraph_map" alt=""></center>
<map name="thread_8c_7fc0055d9dba8a3a14d2189e95acf844_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="133,110,237,141"><area shape="rect" id="node5" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="296,30,397,61"><area shape="rect" id="node12" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="303,83,391,114"><area shape="rect" id="node14" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="295,137,399,167"><area shape="rect" id="node16" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="285,190,408,221"><area shape="rect" id="node7" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="457,5,545,35"><area shape="rect" id="node9" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="596,31,647,62"></map>
</div>

</div>
</div><p>
<a class="anchor" name="5674d2ce2742470b8012fa4184f1fc3b"></a><!-- doxytag: member="thread.c::item_remove" ref="5674d2ce2742470b8012fa4184f1fc3b" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_remove           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_5674d2ce2742470b8012fa4184f1fc3b_cgraph.png" border="0" usemap="#thread_8c_5674d2ce2742470b8012fa4184f1fc3b_cgraph_map" alt=""></center>
<map name="thread_8c_5674d2ce2742470b8012fa4184f1fc3b_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="157,5,285,35"><area shape="rect" id="node5" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="335,5,415,35"><area shape="rect" id="node7" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="465,5,551,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="32cd7e1744d2214e26f0ac267403314e"></a><!-- doxytag: member="thread.c::item_replace" ref="32cd7e1744d2214e26f0ac267403314e" args="(item *old_it, item *new_it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item_replace           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>old_it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>new_it</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_32cd7e1744d2214e26f0ac267403314e_cgraph.png" border="0" usemap="#thread_8c_32cd7e1744d2214e26f0ac267403314e_cgraph_map" alt=""></center>
<map name="thread_8c_32cd7e1744d2214e26f0ac267403314e_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="159,138,284,169"><area shape="rect" id="node5" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="341,111,445,142"><area shape="rect" id="node20" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="333,165,453,195"><area shape="rect" id="node7" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="512,5,613,35"><area shape="rect" id="node14" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="519,58,607,89"><area shape="rect" id="node16" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="511,111,615,142"><area shape="rect" id="node18" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="501,165,624,195"><area shape="rect" id="node9" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="673,31,761,62"><area shape="rect" id="node11" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="812,6,863,37"><area shape="rect" id="node22" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="511,218,615,249"><area shape="rect" id="node24" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="523,271,603,302"><area shape="rect" id="node26" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="675,271,760,302"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_32cd7e1744d2214e26f0ac267403314e_icgraph.png" border="0" usemap="#thread_8c_32cd7e1744d2214e26f0ac267403314e_icgraph_map" alt=""></center>
<map name="thread_8c_32cd7e1744d2214e26f0ac267403314e_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#38299cba09286a1060f3f8abfec408cc" title="do_add_delta" alt="" coords="161,5,268,35"><area shape="rect" id="node7" href="memcached_8h.html#c2e150055051a36e29e8215f5bc35fca" title="do_store_item" alt="" coords="159,58,271,89"><area shape="rect" id="node5" href="thread_8c.html#439d6a005b0cc1a47f8ca3ceb3b85a35" title="add_delta" alt="" coords="324,5,407,35"><area shape="rect" id="node9" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232" title="store_item" alt="" coords="321,58,409,89"></map>
</div>

</div>
</div><p>
<a class="anchor" name="2b022c04b5ceac327d82762206f51ca8"></a><!-- doxytag: member="thread.c::item_stats" ref="2b022c04b5ceac327d82762206f51ca8" args="(ADD_STAT add_stats, void *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_stats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&nbsp;</td>
          <td class="paramname"> <em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_2b022c04b5ceac327d82762206f51ca8_cgraph.png" border="0" usemap="#thread_8c_2b022c04b5ceac327d82762206f51ca8_cgraph_map" alt=""></center>
<map name="thread_8c_2b022c04b5ceac327d82762206f51ca8_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#c37d9c76fff27f10050dc069eef7d50c" title="do_item_stats" alt="" coords="143,5,252,35"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_2b022c04b5ceac327d82762206f51ca8_icgraph.png" border="0" usemap="#thread_8c_2b022c04b5ceac327d82762206f51ca8_icgraph_map" alt=""></center>
<map name="thread_8c_2b022c04b5ceac327d82762206f51ca8_icgraph_map">
<area shape="rect" id="node3" href="slabs_8h.html#0e8837809ec40b8024ca6f972830176c" title="Return a datum for stats in binary protocol." alt="" coords="141,5,221,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="76a67af22fe6ce802c07e857f06cbdc8"></a><!-- doxytag: member="thread.c::item_stats_sizes" ref="76a67af22fe6ce802c07e857f06cbdc8" args="(ADD_STAT add_stats, void *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_stats_sizes           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&nbsp;</td>
          <td class="paramname"> <em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_cgraph.png" border="0" usemap="#thread_8c_76a67af22fe6ce802c07e857f06cbdc8_cgraph_map" alt=""></center>
<map name="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#83d27e539e6256fe75653def1f4594e3" title="dumps out a list of objects of each size, with granularity of 32 bytes" alt="" coords="183,5,332,35"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_icgraph.png" border="0" usemap="#thread_8c_76a67af22fe6ce802c07e857f06cbdc8_icgraph_map" alt=""></center>
<map name="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_icgraph_map">
<area shape="rect" id="node3" href="slabs_8h.html#0e8837809ec40b8024ca6f972830176c" title="Return a datum for stats in binary protocol." alt="" coords="181,5,261,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="256717f932dae6220d67fa02af2266bc"></a><!-- doxytag: member="thread.c::item_unlink" ref="256717f932dae6220d67fa02af2266bc" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_unlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_256717f932dae6220d67fa02af2266bc_cgraph.png" border="0" usemap="#thread_8c_256717f932dae6220d67fa02af2266bc_cgraph_map" alt=""></center>
<map name="thread_8c_256717f932dae6220d67fa02af2266bc_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="152,85,272,115"><area shape="rect" id="node5" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="329,5,433,35"><area shape="rect" id="node7" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="341,58,421,89"><area shape="rect" id="node11" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="329,111,433,142"><area shape="rect" id="node13" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="320,165,443,195"><area shape="rect" id="node9" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="492,58,577,89"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c1d7ea5f69d88dd9b67b6f96520cad8d"></a><!-- doxytag: member="thread.c::item_update" ref="c1d7ea5f69d88dd9b67b6f96520cad8d" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_c1d7ea5f69d88dd9b67b6f96520cad8d_cgraph.png" border="0" usemap="#thread_8c_c1d7ea5f69d88dd9b67b6f96520cad8d_cgraph_map" alt=""></center>
<map name="thread_8c_c1d7ea5f69d88dd9b67b6f96520cad8d_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#4fc546770369a633debd89e0b9b19d3d" title="do_item_update" alt="" coords="155,5,280,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="9a8ed232ef10f74bc05293d3435f0b8f"></a><!-- doxytag: member="thread.c::slab_stats_aggregate" ref="9a8ed232ef10f74bc05293d3435f0b8f" args="(struct thread_stats *stats, struct slab_stats *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void slab_stats_aggregate           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__stats.html">thread_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structslab__stats.html">slab_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>out</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4633df360c62cd97d74fe185c291e508"></a><!-- doxytag: member="thread.c::STATS_LOCK" ref="4633df360c62cd97d74fe185c291e508" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STATS_LOCK           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_4633df360c62cd97d74fe185c291e508_icgraph.png" border="0" usemap="#thread_8c_4633df360c62cd97d74fe185c291e508_icgraph_map" alt=""></center>
<map name="thread_8c_4633df360c62cd97d74fe185c291e508_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#69e221b0a62d80f489369b1624b19c2b" title="conn_new" alt="" coords="211,7,296,38"><area shape="rect" id="node5" href="memcached_8h.html#b3208d47b8d38af6818f6ced54e4d62c" title="do_accept_new_conns" alt="" coords="172,61,335,91"><area shape="rect" id="node9" href="items_8h.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="427,58,536,89"><area shape="rect" id="node21" href="items_8h.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="201,218,305,249"><area shape="rect" id="node32" href="items_8h.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="193,165,313,195"><area shape="rect" id="node47" href="stats_8h.html#5914caa665237a3786c5edd3a7a0baee" title="stats_prefix_dump" alt="" coords="183,271,324,302"><area shape="rect" id="node49" href="stats_8h.html#a8188646a84875b1122fb77a5abb1070" title="stats_prefix_record_delete" alt="" coords="157,325,349,355"><area shape="rect" id="node51" href="stats_8h.html#d70e569de7d0924378506b5eed7aec6b" title="stats_prefix_record_get" alt="" coords="167,378,340,409"><area shape="rect" id="node53" href="stats_8h.html#84422d7b48e0ac7f5796d1627f8af706" title="stats_prefix_record_set" alt="" coords="168,431,339,462"><area shape="rect" id="node7" href="thread_8c.html#4626562440107c11cdd7cc07ba28f806" title="accept_new_conns" alt="" coords="411,5,552,35"><area shape="rect" id="node11" href="memcached_8h.html#38299cba09286a1060f3f8abfec408cc" title="do_add_delta" alt="" coords="809,177,916,207"><area shape="rect" id="node15" href="memcached_8h.html#c2e150055051a36e29e8215f5bc35fca" title="do_store_item" alt="" coords="807,255,919,286"><area shape="rect" id="node19" href="thread_8c.html#d69cc14d059b72c07e1f0b550b1922c6" title="item_alloc" alt="" coords="643,58,728,89"><area shape="rect" id="node13" href="thread_8c.html#439d6a005b0cc1a47f8ca3ceb3b85a35" title="add_delta" alt="" coords="972,177,1055,207"><area shape="rect" id="node17" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232" title="store_item" alt="" coords="969,255,1057,286"><area shape="rect" id="node23" href="items_8h.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="419,218,544,249"><area shape="rect" id="node30" href="thread_8c.html#7fc0055d9dba8a3a14d2189e95acf844" title="item_link" alt="" coords="441,423,521,454"><area shape="rect" id="node25" href="thread_8c.html#32cd7e1744d2214e26f0ac267403314e" title="item_replace" alt="" coords="633,215,737,246"><area shape="rect" id="node35" href="items_8h.html#515ef8e7f0cef67772989fd076f7dcb4" title="do_item_flush_expired" alt="" coords="397,165,565,195"><area shape="rect" id="node39" href="items_8h.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="431,271,532,302"><area shape="rect" id="node45" href="thread_8c.html#256717f932dae6220d67fa02af2266bc" title="item_unlink" alt="" coords="433,111,529,142"><area shape="rect" id="node37" href="thread_8c.html#84097b43e7999f753c11603eff36dadc" title="item_flush_expired" alt="" coords="613,162,757,193"><area shape="rect" id="node42" href="thread_8c.html#1ff584f7053e4a5c8f2cffc7186a12aa" title="item_get" alt="" coords="647,269,724,299"></map>
</div>

</div>
</div><p>
<a class="anchor" name="dc3a0e10eb26574752159d6a16d90007"></a><!-- doxytag: member="thread.c::STATS_UNLOCK" ref="dc3a0e10eb26574752159d6a16d90007" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STATS_UNLOCK           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_dc3a0e10eb26574752159d6a16d90007_icgraph.png" border="0" usemap="#thread_8c_dc3a0e10eb26574752159d6a16d90007_icgraph_map" alt=""></center>
<map name="thread_8c_dc3a0e10eb26574752159d6a16d90007_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#69e221b0a62d80f489369b1624b19c2b" title="conn_new" alt="" coords="229,7,315,38"><area shape="rect" id="node5" href="memcached_8h.html#b3208d47b8d38af6818f6ced54e4d62c" title="do_accept_new_conns" alt="" coords="191,61,353,91"><area shape="rect" id="node9" href="items_8h.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="445,58,555,89"><area shape="rect" id="node21" href="items_8h.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="220,218,324,249"><area shape="rect" id="node32" href="items_8h.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="212,165,332,195"><area shape="rect" id="node47" href="stats_8h.html#5914caa665237a3786c5edd3a7a0baee" title="stats_prefix_dump" alt="" coords="201,271,343,302"><area shape="rect" id="node49" href="stats_8h.html#a8188646a84875b1122fb77a5abb1070" title="stats_prefix_record_delete" alt="" coords="176,325,368,355"><area shape="rect" id="node51" href="stats_8h.html#d70e569de7d0924378506b5eed7aec6b" title="stats_prefix_record_get" alt="" coords="185,378,359,409"><area shape="rect" id="node53" href="stats_8h.html#84422d7b48e0ac7f5796d1627f8af706" title="stats_prefix_record_set" alt="" coords="187,431,357,462"><area shape="rect" id="node7" href="thread_8c.html#4626562440107c11cdd7cc07ba28f806" title="accept_new_conns" alt="" coords="429,5,571,35"><area shape="rect" id="node11" href="memcached_8h.html#38299cba09286a1060f3f8abfec408cc" title="do_add_delta" alt="" coords="828,177,935,207"><area shape="rect" id="node15" href="memcached_8h.html#c2e150055051a36e29e8215f5bc35fca" title="do_store_item" alt="" coords="825,255,937,286"><area shape="rect" id="node19" href="thread_8c.html#d69cc14d059b72c07e1f0b550b1922c6" title="item_alloc" alt="" coords="661,58,747,89"><area shape="rect" id="node13" href="thread_8c.html#439d6a005b0cc1a47f8ca3ceb3b85a35" title="add_delta" alt="" coords="991,177,1073,207"><area shape="rect" id="node17" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232" title="store_item" alt="" coords="988,255,1076,286"><area shape="rect" id="node23" href="items_8h.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="437,218,563,249"><area shape="rect" id="node30" href="thread_8c.html#7fc0055d9dba8a3a14d2189e95acf844" title="item_link" alt="" coords="460,423,540,454"><area shape="rect" id="node25" href="thread_8c.html#32cd7e1744d2214e26f0ac267403314e" title="item_replace" alt="" coords="652,215,756,246"><area shape="rect" id="node35" href="items_8h.html#515ef8e7f0cef67772989fd076f7dcb4" title="do_item_flush_expired" alt="" coords="416,165,584,195"><area shape="rect" id="node39" href="items_8h.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="449,271,551,302"><area shape="rect" id="node45" href="thread_8c.html#256717f932dae6220d67fa02af2266bc" title="item_unlink" alt="" coords="452,111,548,142"><area shape="rect" id="node37" href="thread_8c.html#84097b43e7999f753c11603eff36dadc" title="item_flush_expired" alt="" coords="632,162,776,193"><area shape="rect" id="node42" href="thread_8c.html#1ff584f7053e4a5c8f2cffc7186a12aa" title="item_get" alt="" coords="665,269,743,299"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c97ce2cadaeb4fe6524c0df01828c232"></a><!-- doxytag: member="thread.c::store_item" ref="c97ce2cadaeb4fe6524c0df01828c232" args="(item *item, int comm, conn *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memcached_8h.html#1cf8921762294d73fe28150b7fa2a18e">store_item_type</a> store_item           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_c97ce2cadaeb4fe6524c0df01828c232_cgraph.png" border="0" usemap="#thread_8c_c97ce2cadaeb4fe6524c0df01828c232_cgraph_map" alt=""></center>
<map name="thread_8c_c97ce2cadaeb4fe6524c0df01828c232_cgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#7d76af30e49baebcf82c13f241352544" title="do_store_item" alt="" coords="145,207,257,238"><area shape="rect" id="node5" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="492,126,601,157"><area shape="rect" id="node25" href="items_8c.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="496,233,597,263"><area shape="rect" id="node32" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="667,285,771,315"><area shape="rect" id="node42" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="307,22,435,53"><area shape="rect" id="node45" href="items_8c.html#4fc546770369a633debd89e0b9b19d3d" title="do_item_update" alt="" coords="308,337,433,367"><area shape="rect" id="node47" href="memcached_8h.html#2920cc5a90ae6ca85b3dd4b786ac355e" title="item_replace" alt="" coords="319,181,423,211"><area shape="rect" id="node7" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="659,179,779,210"><area shape="rect" id="node15" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="836,231,940,262"><area shape="rect" id="node17" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="827,125,949,155"><area shape="rect" id="node19" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="673,22,764,53"><area shape="rect" id="node21" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="673,75,764,106"><area shape="rect" id="node9" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="836,178,940,209"><area shape="rect" id="node11" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="848,21,928,51"><area shape="rect" id="node13" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="1000,21,1085,51"><area shape="rect" id="node27" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="999,337,1087,367"><area shape="rect" id="node29" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="1137,311,1188,342"><area shape="rect" id="node34" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="837,285,939,315"><area shape="rect" id="node38" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="844,338,932,369"><area shape="rect" id="node49" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="484,179,609,210"></map>
</div>

</div>
</div><p>
<a class="anchor" name="79051074704249cac4424f10d4606fe3"></a><!-- doxytag: member="thread.c::thread_init" ref="79051074704249cac4424f10d4606fe3" args="(int nthreads, struct event_base *main_base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_init           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nthreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_base *&nbsp;</td>
          <td class="paramname"> <em>main_base</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_79051074704249cac4424f10d4606fe3_icgraph.png" border="0" usemap="#thread_8c_79051074704249cac4424f10d4606fe3_icgraph_map" alt=""></center>
<map name="thread_8c_79051074704249cac4424f10d4606fe3_icgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="144,5,197,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="a2a47a4050d3821422922a7f45611ae9"></a><!-- doxytag: member="thread.c::threadlocal_stats_aggregate" ref="a2a47a4050d3821422922a7f45611ae9" args="(struct thread_stats *stats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void threadlocal_stats_aggregate           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__stats.html">thread_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7bcb5bc469e4b71ebb523e8e1b7caf95"></a><!-- doxytag: member="thread.c::threadlocal_stats_reset" ref="7bcb5bc469e4b71ebb523e8e1b7caf95" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void threadlocal_stats_reset           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="9127df2a4e57929543f3b955e8fa6014"></a><!-- doxytag: member="thread.c::cache_lock" ref="9127df2a4e57929543f3b955e8fa6014" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="thread_8c.html#9127df2a4e57929543f3b955e8fa6014">cache_lock</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="516da4c745197f600a201285359edeeb"></a><!-- doxytag: member="thread.c::conn_lock" ref="516da4c745197f600a201285359edeeb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="thread_8c.html#516da4c745197f600a201285359edeeb">conn_lock</a> = PTHREAD_MUTEX_INITIALIZER          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 17 16:30:42 2009 for memcached by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
