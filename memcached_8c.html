<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>memcached: memcached.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>memcached.c File Reference</h1><code>#include &quot;<a class="el" href="memcached_8h-source.html">memcached.h</a>&quot;</code><br>
<code>#include &lt;sys/stat.h&gt;</code><br>
<code>#include &lt;sys/socket.h&gt;</code><br>
<code>#include &lt;sys/un.h&gt;</code><br>
<code>#include &lt;signal.h&gt;</code><br>
<code>#include &lt;sys/resource.h&gt;</code><br>
<code>#include &lt;sys/uio.h&gt;</code><br>
<code>#include &lt;ctype.h&gt;</code><br>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;pwd.h&gt;</code><br>
<code>#include &lt;sys/mman.h&gt;</code><br>
<code>#include &lt;fcntl.h&gt;</code><br>
<code>#include &lt;netinet/tcp.h&gt;</code><br>
<code>#include &lt;arpa/inet.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include &lt;limits.h&gt;</code><br>
<code>#include &lt;sysexits.h&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for memcached.c:</div>
<div class="dynsection">
<p><center><img src="memcached_8c__incl.png" border="0" usemap="#memcached.c_map" alt=""></center>
<map name="memcached.c_map">
<area shape="rect" id="node3" href="memcached_8h.html" title="The main memcached header holding commonly used data structures and function prototypes..." alt="" coords="847,86,956,117"><area shape="rect" id="node23" href="protocol__binary_8h.html" title="protocol_binary.h" alt="" coords="835,166,968,197"><area shape="rect" id="node26" href="cache_8h.html" title="cache.h" alt="" coords="1043,166,1112,197"><area shape="rect" id="node29" href="stats_8h.html" title="stats.h" alt="" coords="1136,166,1200,197"><area shape="rect" id="node31" href="slabs_8h.html" title="slabs.h" alt="" coords="1224,166,1291,197"><area shape="rect" id="node33" href="assoc_8h.html" title="assoc.h" alt="" coords="1315,166,1384,197"><area shape="rect" id="node35" href="items_8h.html" title="items.h" alt="" coords="1408,166,1477,197"><area shape="rect" id="node37" href="trace_8h.html" title="trace.h" alt="" coords="1501,166,1565,197"><area shape="rect" id="node39" href="hash_8h.html" title="hash.h" alt="" coords="1589,166,1653,197"><area shape="rect" id="node41" href="util_8h.html" title="util.h" alt="" coords="1677,166,1731,197"></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtoken__s.html">token_s</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#177f8d582e7787f076ef59ad446ace13">REALTIME_MAXDELTA</a>&nbsp;&nbsp;&nbsp;60*60*24*30</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#36717cb1bf9d89c9372a92bb37c6d30d">INCR_MAX_STORAGE_LEN</a>&nbsp;&nbsp;&nbsp;24</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#4a718021e213046b7b8b89d69b2cc4e2">COMMAND_TOKEN</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#b896d96cba431a2890258c290ff287b0">SUBCOMMAND_TOKEN</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#29d31e089bb8ba6fe96e6cd5ca9b2c5e">KEY_TOKEN</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#09886d6ba96e67553bf3c49ed8ade975">MAX_TOKENS</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structtoken__s.html">token_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#1ad2604cfddb16735ffa31f473754b03">token_t</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#9fea84a0ca70d688fc059f0a825f59eb">try_read_result</a> { <a class="el" href="memcached_8c.html#9fea84a0ca70d688fc059f0a825f59eb422b0718099c472899f8b0def673affd">READ_DATA_RECEIVED</a>, 
<a class="el" href="memcached_8c.html#9fea84a0ca70d688fc059f0a825f59ebb4791b14e9c5938f6b478f544828f9d0">READ_NO_DATA_RECEIVED</a>, 
<a class="el" href="memcached_8c.html#9fea84a0ca70d688fc059f0a825f59eb04976e0ef9bb6d8d2fec8ac4512ca16f">READ_ERROR</a>, 
<a class="el" href="memcached_8c.html#9fea84a0ca70d688fc059f0a825f59ebf452a9683c7f8ce1cdc4061a24af57ca">READ_MEMORY_ERROR</a>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#76da524405a00d0b36aed7288fba154e">transmit_result</a> { <a class="el" href="memcached_8c.html#76da524405a00d0b36aed7288fba154e9f0e920a771876fc3d9a97ab66d95e45">TRANSMIT_COMPLETE</a>, 
<a class="el" href="memcached_8c.html#76da524405a00d0b36aed7288fba154e7471aed92bfd321afa86eb6882b33100">TRANSMIT_INCOMPLETE</a>, 
<a class="el" href="memcached_8c.html#76da524405a00d0b36aed7288fba154ec2b88ef10fc76912a0b002e967e34f5c">TRANSMIT_SOFT_ERROR</a>, 
<a class="el" href="memcached_8c.html#76da524405a00d0b36aed7288fba154ed495552402237b117d14bea14a37b8b3">TRANSMIT_HARD_ERROR</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structconn.html">conn</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#9e2eb84fb0639f05a759367bf8b5ddb9">conn_from_freelist</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#fc9ec43a3d82ca2bbaa216539353bfa2">conn_add_to_freelist</a> (<a class="el" href="structconn.html">conn</a> *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structconn.html">conn</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#e8597c761e8dc378f92f51e185778af4">conn_new</a> (const int sfd, enum <a class="el" href="memcached_8h.html#397f77d103168a504b5fbc801538f2a7">conn_states</a> init_state, const int event_flags, const int read_buffer_size, enum <a class="el" href="memcached_8h.html#b2a402bae66e9d81d0928284b707a47c">network_transport</a> transport, struct event_base *base)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="memcached_8h.html#1cf8921762294d73fe28150b7fa2a18e">store_item_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#7d76af30e49baebcf82c13f241352544">do_store_item</a> (<a class="el" href="struct__stritem.html">item</a> *it, int comm, <a class="el" href="structconn.html">conn</a> *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#ca748357457307f8d993dc73c3350afe">append_stat</a> (const char *name, <a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, <a class="el" href="structconn.html">conn</a> *c, const char *fmt,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="memcached_8h.html#c1341dff6a89ead35b6c23f93cd3afb6">delta_result_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#0934445940ac36bd65acb1860d9d2b89">do_add_delta</a> (<a class="el" href="structconn.html">conn</a> *c, <a class="el" href="struct__stritem.html">item</a> *it, const bool incr, const int64_t delta, char *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#b3208d47b8d38af6818f6ced54e4d62c">do_accept_new_conns</a> (const bool do_accept)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structstats.html">stats</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#7c0bf139aa1139cb79905d8ac33cc872">stats</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">exported globals  <a href="#7c0bf139aa1139cb79905d8ac33cc872"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structsettings.html">settings</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#cf80839394e5fa8db0ce162b9248b781">settings</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">time_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#584cbee39bbab65f2c8d87932cf92140">process_started</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="memcached_8h.html#602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="memcached_8c.html#21b2a3d4ff751fe99cdca2d14babc559">current_time</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="4a718021e213046b7b8b89d69b2cc4e2"></a><!-- doxytag: member="memcached.c::COMMAND_TOKEN" ref="4a718021e213046b7b8b89d69b2cc4e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMAND_TOKEN&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="36717cb1bf9d89c9372a92bb37c6d30d"></a><!-- doxytag: member="memcached.c::INCR_MAX_STORAGE_LEN" ref="36717cb1bf9d89c9372a92bb37c6d30d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INCR_MAX_STORAGE_LEN&nbsp;&nbsp;&nbsp;24          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="29d31e089bb8ba6fe96e6cd5ca9b2c5e"></a><!-- doxytag: member="memcached.c::KEY_TOKEN" ref="29d31e089bb8ba6fe96e6cd5ca9b2c5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KEY_TOKEN&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="09886d6ba96e67553bf3c49ed8ade975"></a><!-- doxytag: member="memcached.c::MAX_TOKENS" ref="09886d6ba96e67553bf3c49ed8ade975" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TOKENS&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="177f8d582e7787f076ef59ad446ace13"></a><!-- doxytag: member="memcached.c::REALTIME_MAXDELTA" ref="177f8d582e7787f076ef59ad446ace13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REALTIME_MAXDELTA&nbsp;&nbsp;&nbsp;60*60*24*30          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b896d96cba431a2890258c290ff287b0"></a><!-- doxytag: member="memcached.c::SUBCOMMAND_TOKEN" ref="b896d96cba431a2890258c290ff287b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUBCOMMAND_TOKEN&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="1ad2604cfddb16735ffa31f473754b03"></a><!-- doxytag: member="memcached.c::token_t" ref="1ad2604cfddb16735ffa31f473754b03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtoken__s.html">token_s</a>  <a class="el" href="structtoken__s.html">token_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="76da524405a00d0b36aed7288fba154e"></a><!-- doxytag: member="memcached.c::transmit_result" ref="76da524405a00d0b36aed7288fba154e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memcached_8c.html#76da524405a00d0b36aed7288fba154e">transmit_result</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="76da524405a00d0b36aed7288fba154e9f0e920a771876fc3d9a97ab66d95e45"></a><!-- doxytag: member="TRANSMIT_COMPLETE" ref="76da524405a00d0b36aed7288fba154e9f0e920a771876fc3d9a97ab66d95e45" args="" -->TRANSMIT_COMPLETE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="76da524405a00d0b36aed7288fba154e7471aed92bfd321afa86eb6882b33100"></a><!-- doxytag: member="TRANSMIT_INCOMPLETE" ref="76da524405a00d0b36aed7288fba154e7471aed92bfd321afa86eb6882b33100" args="" -->TRANSMIT_INCOMPLETE</em>&nbsp;</td><td>
All done writing. 
<p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="76da524405a00d0b36aed7288fba154ec2b88ef10fc76912a0b002e967e34f5c"></a><!-- doxytag: member="TRANSMIT_SOFT_ERROR" ref="76da524405a00d0b36aed7288fba154ec2b88ef10fc76912a0b002e967e34f5c" args="" -->TRANSMIT_SOFT_ERROR</em>&nbsp;</td><td>
More data remaining to write. 
<p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="76da524405a00d0b36aed7288fba154ed495552402237b117d14bea14a37b8b3"></a><!-- doxytag: member="TRANSMIT_HARD_ERROR" ref="76da524405a00d0b36aed7288fba154ed495552402237b117d14bea14a37b8b3" args="" -->TRANSMIT_HARD_ERROR</em>&nbsp;</td><td>
Can't write any more right now. 
<p>
Can't write (c-&gt;state is set to conn_closing) </td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="9fea84a0ca70d688fc059f0a825f59eb"></a><!-- doxytag: member="memcached.c::try_read_result" ref="9fea84a0ca70d688fc059f0a825f59eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memcached_8c.html#9fea84a0ca70d688fc059f0a825f59eb">try_read_result</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="9fea84a0ca70d688fc059f0a825f59eb422b0718099c472899f8b0def673affd"></a><!-- doxytag: member="READ_DATA_RECEIVED" ref="9fea84a0ca70d688fc059f0a825f59eb422b0718099c472899f8b0def673affd" args="" -->READ_DATA_RECEIVED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="9fea84a0ca70d688fc059f0a825f59ebb4791b14e9c5938f6b478f544828f9d0"></a><!-- doxytag: member="READ_NO_DATA_RECEIVED" ref="9fea84a0ca70d688fc059f0a825f59ebb4791b14e9c5938f6b478f544828f9d0" args="" -->READ_NO_DATA_RECEIVED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="9fea84a0ca70d688fc059f0a825f59eb04976e0ef9bb6d8d2fec8ac4512ca16f"></a><!-- doxytag: member="READ_ERROR" ref="9fea84a0ca70d688fc059f0a825f59eb04976e0ef9bb6d8d2fec8ac4512ca16f" args="" -->READ_ERROR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="9fea84a0ca70d688fc059f0a825f59ebf452a9683c7f8ce1cdc4061a24af57ca"></a><!-- doxytag: member="READ_MEMORY_ERROR" ref="9fea84a0ca70d688fc059f0a825f59ebf452a9683c7f8ce1cdc4061a24af57ca" args="" -->READ_MEMORY_ERROR</em>&nbsp;</td><td>
an error occured (on the socket) (or client closed connection) 
<p>
failed to allocate more memory </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ca748357457307f8d993dc73c3350afe"></a><!-- doxytag: member="memcached.c::append_stat" ref="ca748357457307f8d993dc73c3350afe" args="(const char *name, ADD_STAT add_stats, conn *c, const char *fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void append_stat           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&nbsp;</td>
          <td class="paramname"> <em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fc9ec43a3d82ca2bbaa216539353bfa2"></a><!-- doxytag: member="memcached.c::conn_add_to_freelist" ref="fc9ec43a3d82ca2bbaa216539353bfa2" args="(conn *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conn_add_to_freelist           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_fc9ec43a3d82ca2bbaa216539353bfa2_icgraph.png" border="0" usemap="#memcached_8c_fc9ec43a3d82ca2bbaa216539353bfa2_icgraph_map" alt=""></center>
<map name="memcached_8c_fc9ec43a3d82ca2bbaa216539353bfa2_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#69e221b0a62d80f489369b1624b19c2b" title="conn_new" alt="" coords="208,5,293,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="9e2eb84fb0639f05a759367bf8b5ddb9"></a><!-- doxytag: member="memcached.c::conn_from_freelist" ref="9e2eb84fb0639f05a759367bf8b5ddb9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structconn.html">conn</a>* conn_from_freelist           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_9e2eb84fb0639f05a759367bf8b5ddb9_icgraph.png" border="0" usemap="#memcached_8c_9e2eb84fb0639f05a759367bf8b5ddb9_icgraph_map" alt=""></center>
<map name="memcached_8c_9e2eb84fb0639f05a759367bf8b5ddb9_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#69e221b0a62d80f489369b1624b19c2b" title="conn_new" alt="" coords="195,5,280,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="e8597c761e8dc378f92f51e185778af4"></a><!-- doxytag: member="memcached.c::conn_new" ref="e8597c761e8dc378f92f51e185778af4" args="(const int sfd, enum conn_states init_state, const int event_flags, const int read_buffer_size, enum network_transport transport, struct event_base *base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structconn.html">conn</a>* conn_new           </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>sfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="memcached_8h.html#397f77d103168a504b5fbc801538f2a7">conn_states</a>&nbsp;</td>
          <td class="paramname"> <em>init_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>event_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>read_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="memcached_8h.html#b2a402bae66e9d81d0928284b707a47c">network_transport</a>&nbsp;</td>
          <td class="paramname"> <em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_base *&nbsp;</td>
          <td class="paramname"> <em>base</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_e8597c761e8dc378f92f51e185778af4_cgraph.png" border="0" usemap="#memcached_8c_e8597c761e8dc378f92f51e185778af4_cgraph_map" alt=""></center>
<map name="memcached_8c_e8597c761e8dc378f92f51e185778af4_cgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#fc9ec43a3d82ca2bbaa216539353bfa2" title="conn_add_to_freelist" alt="" coords="139,5,293,35"><area shape="rect" id="node5" href="memcached_8c.html#9e2eb84fb0639f05a759367bf8b5ddb9" title="conn_from_freelist" alt="" coords="145,58,287,89"><area shape="rect" id="node7" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="164,111,268,142"><area shape="rect" id="node9" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="155,165,277,195"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b3208d47b8d38af6818f6ced54e4d62c"></a><!-- doxytag: member="memcached.c::do_accept_new_conns" ref="b3208d47b8d38af6818f6ced54e4d62c" args="(const bool do_accept)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_accept_new_conns           </td>
          <td>(</td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>do_accept</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_b3208d47b8d38af6818f6ced54e4d62c_cgraph.png" border="0" usemap="#memcached_8c_b3208d47b8d38af6818f6ced54e4d62c_cgraph_map" alt=""></center>
<map name="memcached_8c_b3208d47b8d38af6818f6ced54e4d62c_cgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="228,5,332,35"><area shape="rect" id="node5" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="219,58,341,89"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_b3208d47b8d38af6818f6ced54e4d62c_icgraph.png" border="0" usemap="#memcached_8c_b3208d47b8d38af6818f6ced54e4d62c_icgraph_map" alt=""></center>
<map name="memcached_8c_b3208d47b8d38af6818f6ced54e4d62c_icgraph_map">
<area shape="rect" id="node3" href="thread_8c.html#4626562440107c11cdd7cc07ba28f806" title="accept_new_conns" alt="" coords="219,5,360,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="0934445940ac36bd65acb1860d9d2b89"></a><!-- doxytag: member="memcached.c::do_add_delta" ref="0934445940ac36bd65acb1860d9d2b89" args="(conn *c, item *it, const bool incr, const int64_t delta, char *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memcached_8h.html#c1341dff6a89ead35b6c23f93cd3afb6">delta_result_type</a> do_add_delta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>incr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t&nbsp;</td>
          <td class="paramname"> <em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_0934445940ac36bd65acb1860d9d2b89_cgraph.png" border="0" usemap="#memcached_8c_0934445940ac36bd65acb1860d9d2b89_cgraph_map" alt=""></center>
<map name="memcached_8c_0934445940ac36bd65acb1860d9d2b89_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="324,153,433,184"><area shape="rect" id="node23" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="315,23,443,53"><area shape="rect" id="node26" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="676,336,764,367"><area shape="rect" id="node28" href="memcached_8h.html#2920cc5a90ae6ca85b3dd4b786ac355e" title="item_replace" alt="" coords="163,257,267,288"><area shape="rect" id="node45" href="util_8c.html#cc5ba3b68c57abb666e3534e6616d93d" title="safe_strtoull" alt="" coords="164,387,265,417"><area shape="rect" id="node5" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="491,179,611,209"><area shape="rect" id="node13" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="668,229,772,260"><area shape="rect" id="node15" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="659,176,781,207"><area shape="rect" id="node17" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="505,21,596,52"><area shape="rect" id="node19" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="505,75,596,105"><area shape="rect" id="node7" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="668,123,772,153"><area shape="rect" id="node9" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="680,20,760,51"><area shape="rect" id="node11" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="832,20,917,51"><area shape="rect" id="node30" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="316,257,441,288"><area shape="rect" id="node32" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="499,283,603,313"><area shape="rect" id="node34" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="669,283,771,313"><area shape="rect" id="node36" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="831,256,919,287"><area shape="rect" id="node38" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="969,283,1020,313"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_0934445940ac36bd65acb1860d9d2b89_icgraph.png" border="0" usemap="#memcached_8c_0934445940ac36bd65acb1860d9d2b89_icgraph_map" alt=""></center>
<map name="memcached_8c_0934445940ac36bd65acb1860d9d2b89_icgraph_map">
<area shape="rect" id="node3" href="thread_8c.html#439d6a005b0cc1a47f8ca3ceb3b85a35" title="add_delta" alt="" coords="164,5,247,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7d76af30e49baebcf82c13f241352544"></a><!-- doxytag: member="memcached.c::do_store_item" ref="7d76af30e49baebcf82c13f241352544" args="(item *it, int comm, conn *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memcached_8h.html#1cf8921762294d73fe28150b7fa2a18e">store_item_type</a> do_store_item           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_7d76af30e49baebcf82c13f241352544_cgraph.png" border="0" usemap="#memcached_8c_7d76af30e49baebcf82c13f241352544_cgraph_map" alt=""></center>
<map name="memcached_8c_7d76af30e49baebcf82c13f241352544_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="353,126,463,157"><area shape="rect" id="node23" href="items_8c.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="357,233,459,263"><area shape="rect" id="node30" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="528,285,632,315"><area shape="rect" id="node40" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="168,22,296,53"><area shape="rect" id="node43" href="items_8c.html#4fc546770369a633debd89e0b9b19d3d" title="do_item_update" alt="" coords="169,337,295,367"><area shape="rect" id="node45" href="memcached_8h.html#2920cc5a90ae6ca85b3dd4b786ac355e" title="item_replace" alt="" coords="180,181,284,211"><area shape="rect" id="node5" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="520,179,640,210"><area shape="rect" id="node13" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="697,231,801,262"><area shape="rect" id="node15" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="688,125,811,155"><area shape="rect" id="node17" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="535,22,625,53"><area shape="rect" id="node19" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="535,75,625,106"><area shape="rect" id="node7" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="697,178,801,209"><area shape="rect" id="node9" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="709,21,789,51"><area shape="rect" id="node11" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="861,21,947,51"><area shape="rect" id="node25" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="860,337,948,367"><area shape="rect" id="node27" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="999,311,1049,342"><area shape="rect" id="node32" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="699,285,800,315"><area shape="rect" id="node36" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="705,338,793,369"><area shape="rect" id="node47" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="345,179,471,210"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_7d76af30e49baebcf82c13f241352544_icgraph.png" border="0" usemap="#memcached_8c_7d76af30e49baebcf82c13f241352544_icgraph_map" alt=""></center>
<map name="memcached_8c_7d76af30e49baebcf82c13f241352544_icgraph_map">
<area shape="rect" id="node3" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232" title="store_item" alt="" coords="169,5,257,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="memcached.c::main" ref="3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="memcached_8c_3c04138a5bfe5d72780bb7e82a18e627_cgraph.png" border="0" usemap="#memcached_8c_3c04138a5bfe5d72780bb7e82a18e627_cgraph_map" alt=""></center>
<map name="memcached_8c_3c04138a5bfe5d72780bb7e82a18e627_cgraph_map">
<area shape="rect" id="node3" href="assoc_8c.html#f7b17ebeaafd6b04053506a27362c45d" title="assoc_init" alt="" coords="180,5,265,35"><area shape="rect" id="node5" href="daemon_8c.html#78ff9cfa411dda44b12c1dd5e5d078e6" title="daemonize" alt="" coords="177,58,268,89"><area shape="rect" id="node7" href="items_8c.html#9b4f1347eb13afcefa40fbe60cd040b4" title="item_init" alt="" coords="184,111,261,142"><area shape="rect" id="node9" href="slabs_8c.html#8cc4ad6521988a6806c2600bd2f2010b" title="Determines the chunk sizes and initializes the slab class descriptors accordingly..." alt="" coords="181,165,264,195"><area shape="rect" id="node11" href="assoc_8c.html#c6141ce9b282dca1917168e18c4c581d" title="start_assoc_maintenance_thread" alt="" coords="108,218,337,249"><area shape="rect" id="node13" href="assoc_8c.html#8efc51803b796ab0ec19318c8459c39f" title="stop_assoc_maintenance_thread" alt="" coords="108,271,337,302"><area shape="rect" id="node15" href="memcached_8h.html#79051074704249cac4424f10d4606fe3" title="thread_init" alt="" coords="177,325,268,355"></map>
</div>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="21b2a3d4ff751fe99cdca2d14babc559"></a><!-- doxytag: member="memcached.c::current_time" ref="21b2a3d4ff751fe99cdca2d14babc559" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="memcached_8h.html#602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a> <a class="el" href="memcached_8h.html#21b2a3d4ff751fe99cdca2d14babc559">current_time</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="584cbee39bbab65f2c8d87932cf92140"></a><!-- doxytag: member="memcached.c::process_started" ref="584cbee39bbab65f2c8d87932cf92140" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t <a class="el" href="memcached_8h.html#584cbee39bbab65f2c8d87932cf92140">process_started</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cf80839394e5fa8db0ce162b9248b781"></a><!-- doxytag: member="memcached.c::settings" ref="cf80839394e5fa8db0ce162b9248b781" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structsettings.html">settings</a> <a class="el" href="structsettings.html">settings</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7c0bf139aa1139cb79905d8ac33cc872"></a><!-- doxytag: member="memcached.c::stats" ref="7c0bf139aa1139cb79905d8ac33cc872" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstats.html">stats</a> <a class="el" href="structstats.html">stats</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
exported globals 
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 17 16:30:31 2009 for memcached by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
